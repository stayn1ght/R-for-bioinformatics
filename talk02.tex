\documentclass[ignorenonframetext,]{beamer}
\usetheme{AnnArbor}
\usecolortheme{beaver}
\usefonttheme{structurebold}
\setbeamertemplate{caption}[numbered]
\setbeamertemplate{caption label separator}{: }
\setbeamercolor{caption name}{fg=normal text.fg}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\usepackage{lmodern}
\usepackage{xeCJK}
\ifxetex
  \usepackage{fontspec,xltxtra,xunicode}
  \defaultfontfeatures{Mapping=tex-text,Scale=MatchLowercase}
  \newcommand{\euro}{€}
\else
  \ifluatex
    \usepackage{fontspec}
    \defaultfontfeatures{Mapping=tex-text,Scale=MatchLowercase}
    \newcommand{\euro}{€}
  \else
    \usepackage[T1]{fontenc}
    \usepackage[utf8]{inputenc}
      \fi
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{\usepackage{microtype}}{}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{longtable,booktabs}
\usepackage{caption}
% These lines are needed to make table captions work with longtable:
\makeatletter
\def\fnum@table{\tablename~\thetable}
\makeatother
\usepackage{url}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight0.8\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}

% Comment these out if you don't want a slide with just the
% part/section/subsection/subsubsection title:
\AtBeginPart{
  \let\insertpartnumber\relax
  \let\partname\relax
  \frame{\partpage}
}
\AtBeginSection{
  \let\insertsectionnumber\relax
  \let\sectionname\relax
  \frame{\sectionpage}
}
\AtBeginSubsection{
  \let\insertsubsectionnumber\relax
  \let\subsectionname\relax
  \frame{\subsectionpage}
}

\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{0}
% set font size to 7 with line breaks at 8
\newcommand\FontSmall{\fontsize{7}{8}\selectfont}

% set regular font 
\newcommand\FontNormal{\fontsize{10}{10}\selectfont}

\title{R language basics, part 1}
\subtitle{HUST Bioinformatics course series}
\author{Wei-Hua Chen (CC BY-NC 4.0)}
\date{07 September, 2022}

\begin{document}
\frame{\titlepage}

\hypertarget{section-1-outline}{%
\section{section 1: outline}\label{section-1-outline}}

\begin{frame}{TOC}
\protect\hypertarget{toc}{}
\begin{enumerate}
\tightlist
\item
  数据类型
\item
  基本操作
\item
  变量
\item
  函数/子例程（Functions）
\item
  模型和公式
\item
  R包
\item
  获得帮助
\end{enumerate}

\textbf{注}：不一定按照上述顺序
\end{frame}

\hypertarget{section-2-r-basics---ux57faux672cux6570ux636eux7c7bux578b}{%
\section{section 2: R basics -
基本数据类型}\label{section-2-r-basics---ux57faux672cux6570ux636eux7c7bux578b}}

\begin{frame}[fragile]{基本数据类型}
\protect\hypertarget{ux57faux672cux6570ux636eux7c7bux578b}{}
最基本的数据类型包括\textbf{数字}和\textbf{字符串}，是其它数据类型的基本组成部分。

数字

\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\DocumentationTok{\#\# 整数}
\DecValTok{287}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 287
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\DocumentationTok{\#\# 小数}
\FloatTok{99.99}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 99.99
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\DocumentationTok{\#\# 科学计数法}
\FloatTok{1e{-}3}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0.001
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FloatTok{1e2}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 100
\end{verbatim}
\end{frame}

\begin{frame}[fragile]{逻辑符号}
\protect\hypertarget{ux903bux8f91ux7b26ux53f7}{}
\FontSmall

真

\begin{Shaded}
\begin{Highlighting}[]
\ConstantTok{TRUE}
\NormalTok{T}
\end{Highlighting}
\end{Shaded}

假

\begin{Shaded}
\begin{Highlighting}[]
\ConstantTok{FALSE}
\NormalTok{F}
\end{Highlighting}
\end{Shaded}

其本质是数字

\begin{Shaded}
\begin{Highlighting}[]
\DecValTok{1} \SpecialCharTok{+} \ConstantTok{TRUE}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 2
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\DecValTok{2} \SpecialCharTok{*} \ConstantTok{FALSE}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
\end{verbatim}
\end{frame}

\begin{frame}[fragile]{字符串}
\protect\hypertarget{ux5b57ux7b26ux4e32}{}
字符串则是可以是任何字符的组合，由单引号或双引号包括。比如：

\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\StringTok{\textquotesingle{}a sentence\textquotesingle{}} \DocumentationTok{\#\# 单括号}
\StringTok{"一个字符串"} \DocumentationTok{\#\# 双括号}
\StringTok{\textquotesingle{}1.123\textquotesingle{}}      \DocumentationTok{\#\# 像是数字的字符串}
\StringTok{\textquotesingle{}*\%\%*()!@\#\#\&@(9\textquotesingle{}}  \DocumentationTok{\#\# 乱码}
\end{Highlighting}
\end{Shaded}
\end{frame}

\begin{frame}[fragile]{简单数据类型}
\protect\hypertarget{ux7b80ux5355ux6570ux636eux7c7bux578b}{}
简单数据类型包括vector和矩阵，它们都可以包含某一种基本数据类型的多个数值，比如由多个数字组成的矩阵，多个字符串组成的vector等。但它们\textbf{只能包含单一数据类型}；这一点稍后会有解释。

\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{c}\NormalTok{(}\DecValTok{100}\NormalTok{, }\DecValTok{20}\NormalTok{, }\DecValTok{30}\NormalTok{) }\DocumentationTok{\#\# 整数 vector }
\FunctionTok{c}\NormalTok{(}\StringTok{"字符串"}\NormalTok{, }\StringTok{"数组"}\NormalTok{,}\StringTok{"是我"}\NormalTok{) }\DocumentationTok{\#\# 字符串 vector}
\FunctionTok{c}\NormalTok{(}\ConstantTok{TRUE}\NormalTok{, }\ConstantTok{FALSE}\NormalTok{, }\ConstantTok{TRUE}\NormalTok{, T, F) }\DocumentationTok{\#\# 一个逻辑 vector}
\end{Highlighting}
\end{Shaded}

\FontNormal

如上所示，数组通常用函数 c() 来定义。除此之外，还可以用 `:'
操作符号来定义包含连续整数的 vector：

\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\DecValTok{2}\SpecialCharTok{:}\DecValTok{8}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 2 3 4 5 6 7 8
\end{verbatim}
\end{frame}

\begin{frame}[fragile]{vector 的数据类型转换规则}
\protect\hypertarget{vector-ux7684ux6570ux636eux7c7bux578bux8f6cux6362ux89c4ux5219}{}
vector只能包含一种基本数据类型。因此，在定义数组时，如果输入的数值是混合的，那么某些基本数据类型会自动转换为其它类型，以保证数值类型的一致性；这在英文里称为coerce，有强制转换的意思。这种转换的优先级为：

\begin{itemize}
\tightlist
\item
  逻辑类型 -\textgreater{} 数字类型
\item
  逻辑类型 -\textgreater{} 字符串
\item
  数字类型 -\textgreater{} 字符串
\end{itemize}

我们可以用 \texttt{class()}或\texttt{str()} 函数来判断
vector包含的数据类型。以后会介绍两者的不同。
\end{frame}

\begin{frame}[fragile]{vector 的数据类型转换规则}
\protect\hypertarget{vector-ux7684ux6570ux636eux7c7bux578bux8f6cux6362ux89c4ux5219-1}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{class}\NormalTok{( }\FunctionTok{c}\NormalTok{(}\DecValTok{45}\NormalTok{, }\ConstantTok{TRUE}\NormalTok{, }\DecValTok{20}\NormalTok{, }\ConstantTok{FALSE}\NormalTok{, }\SpecialCharTok{{-}}\DecValTok{100}\NormalTok{) ); }\DocumentationTok{\#\# 逻辑和数字类型}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "numeric"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{str}\NormalTok{( }\FunctionTok{c}\NormalTok{(}\StringTok{"string a"}\NormalTok{, }\ConstantTok{FALSE}\NormalTok{, }\StringTok{"string b"}\NormalTok{, }\ConstantTok{TRUE}\NormalTok{) ); }\DocumentationTok{\#\# 逻辑和字符}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  chr [1:4] "string a" "FALSE" "string b" "TRUE"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{str}\NormalTok{( }\FunctionTok{c}\NormalTok{(}\StringTok{"a string"}\NormalTok{, }\FloatTok{1.2}\NormalTok{, }\StringTok{"another string"}\NormalTok{, }\FloatTok{1e{-}3}\NormalTok{) ); }\DocumentationTok{\#\# 数字和字符}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  chr [1:4] "a string" "1.2" "another string" "0.001"
\end{verbatim}
\end{frame}

\begin{frame}[fragile]{矩阵(matrix)}
\protect\hypertarget{ux77e9ux9635matrix}{}
矩阵也可看做是一种带有限制的二维数组，其限制是，矩阵内的数值必须是同一种类型。当输入混合有多种基本数据类型时，矩阵会按上面提到的规则进行强制转换。

矩阵由函数 \texttt{matrix()} 定义，比如：

\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{matrix}\NormalTok{( }\FunctionTok{c}\NormalTok{(}\DecValTok{20}\NormalTok{, }\FloatTok{30.1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\FloatTok{45.8}\NormalTok{, }\DecValTok{23}\NormalTok{, }\DecValTok{14}\NormalTok{), }\AttributeTok{nrow =} \DecValTok{2}\NormalTok{, }\AttributeTok{byrow =}\NormalTok{ T );}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##      [,1] [,2] [,3]
## [1,] 20.0 30.1    2
## [2,] 45.8 23.0   14
\end{verbatim}
\end{frame}

\begin{frame}[fragile]{Matrix 函数的参数}
\protect\hypertarget{matrix-ux51fdux6570ux7684ux53c2ux6570}{}
\FontSmall

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 8\tabcolsep) * \real{0.1429}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 8\tabcolsep) * \real{0.1607}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 8\tabcolsep) * \real{0.1607}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 8\tabcolsep) * \real{0.0893}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 8\tabcolsep) * \real{0.4464}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
参数
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
默认值
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
说明
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
必须
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
允许值
\end{minipage} \\
\midrule()
\endhead
data & 无 & 输入数据 & 是 & NA、vector或矩阵 （NA是特殊的值）。 \\
nrow & 1 & 指定matrix的行数 & 不 & 自然整数 \\
ncol & 1 & 指定列数 & 不 & 自然整数 \\
byrow & FALSE & 是否按行将数据转化为matrix & 不 & 逻辑值 \\
dimnames & NULL & 指定矩阵的行名和列名 & 不 & NULL 或 list
(注：NULL是特殊的值，list则是一种复杂的数据类型) \\
\bottomrule()
\end{longtable}

\FontNormal

更多细节可用 \texttt{?\ matrix} 命令查看
\end{frame}

\begin{frame}[fragile]{\texttt{matrix()}参数测试}
\protect\hypertarget{matrixux53c2ux6570ux6d4bux8bd5}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{matrix}\NormalTok{( }\FunctionTok{c}\NormalTok{(}\DecValTok{20}\NormalTok{, }\FloatTok{30.1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\FloatTok{45.8}\NormalTok{, }\DecValTok{23}\NormalTok{, }\DecValTok{14}\NormalTok{), }\AttributeTok{nrow =} \DecValTok{2}\NormalTok{, }\AttributeTok{byrow =}\NormalTok{ T );}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##      [,1] [,2] [,3]
## [1,] 20.0 30.1    2
## [2,] 45.8 23.0   14
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{matrix}\NormalTok{( }\FunctionTok{c}\NormalTok{(}\DecValTok{20}\NormalTok{, }\FloatTok{30.1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\FloatTok{45.8}\NormalTok{, }\DecValTok{23}\NormalTok{, }\DecValTok{14}\NormalTok{), }\AttributeTok{nrow =} \DecValTok{2}\NormalTok{, }\AttributeTok{byrow =}\NormalTok{ F );}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##      [,1] [,2] [,3]
## [1,] 20.0  2.0   23
## [2,] 30.1 45.8   14
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{matrix}\NormalTok{( }\FunctionTok{c}\NormalTok{(}\DecValTok{20}\NormalTok{, }\FloatTok{30.1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\FloatTok{45.8}\NormalTok{, }\DecValTok{23}\NormalTok{, }\DecValTok{14}\NormalTok{), }\AttributeTok{nrow =} \DecValTok{2}\NormalTok{, }
       \AttributeTok{dimnames =} \FunctionTok{list}\NormalTok{( }\FunctionTok{c}\NormalTok{(}\StringTok{"row\_A"}\NormalTok{, }\StringTok{"row\_B"}\NormalTok{), }\FunctionTok{c}\NormalTok{(}\StringTok{"A"}\NormalTok{, }\StringTok{"B"}\NormalTok{, }\StringTok{"C"}\NormalTok{) ) );}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##          A    B  C
## row_A 20.0  2.0 23
## row_B 30.1 45.8 14
\end{verbatim}
\end{frame}

\begin{frame}[fragile]{\texttt{matrix()}同时指定 ncol 和 nrow}
\protect\hypertarget{matrixux540cux65f6ux6307ux5b9a-ncol-ux548c-nrow}{}
矩阵的指定长度，即 nrow ×
ncol，可以不同于输入数据的长度。矩阵长度较小时，输入数据会被截短；而矩阵长度较大时，输入数据则会被重复使用。举例如下：

\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\DocumentationTok{\#\# 生成一个2x5长度为10的矩阵，但输入数据的长度为20}
\FunctionTok{matrix}\NormalTok{( }\DecValTok{1}\SpecialCharTok{:}\DecValTok{20}\NormalTok{, }\AttributeTok{nrow =} \DecValTok{2}\NormalTok{, }\AttributeTok{ncol =} \DecValTok{5}\NormalTok{, }\AttributeTok{byrow =}\NormalTok{ T); }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    2    3    4    5
## [2,]    6    7    8    9   10
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\DocumentationTok{\#\# 生成一个2x3长度为6的矩阵，但输入数据长度只有3}
\FunctionTok{matrix}\NormalTok{( }\DecValTok{1}\SpecialCharTok{:}\DecValTok{3}\NormalTok{, }\AttributeTok{nrow =} \DecValTok{2}\NormalTok{, }\AttributeTok{ncol =} \DecValTok{3}\NormalTok{, }\AttributeTok{byrow =}\NormalTok{ T ); }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    1    2    3
\end{verbatim}
\end{frame}

\begin{frame}[fragile]{\texttt{matrix()}更多测试}
\protect\hypertarget{matrixux66f4ux591aux6d4bux8bd5}{}
注意：上面两种情况下，系统并不会给出任何提示。但下面两种情况，系统会报警告信息。
第一种情况，矩阵长度大于输入数据长度，且前者不是后者的整数倍。

\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{matrix}\NormalTok{( }\DecValTok{1}\SpecialCharTok{:}\DecValTok{3}\NormalTok{, }\AttributeTok{nrow =} \DecValTok{2}\NormalTok{, }\AttributeTok{ncol =} \DecValTok{4}\NormalTok{, }\AttributeTok{byrow =}\NormalTok{ T );}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning in matrix(1:3, nrow = 2, ncol = 4, byrow = T): data length [3] is not a
## sub-multiple or multiple of the number of rows [2]
\end{verbatim}

\begin{verbatim}
##      [,1] [,2] [,3] [,4]
## [1,]    1    2    3    1
## [2,]    2    3    1    2
\end{verbatim}
\end{frame}

\begin{frame}[fragile]{\texttt{matrix()}更多测试， cont.}
\protect\hypertarget{matrixux66f4ux591aux6d4bux8bd5-cont.}{}
第二种情况，矩阵长度小于输入数据的长度，且后者不是前者的整数倍。

\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{matrix}\NormalTok{( letters[}\DecValTok{1}\SpecialCharTok{:}\DecValTok{20}\NormalTok{], }\AttributeTok{nrow =} \DecValTok{3}\NormalTok{, }\AttributeTok{ncol =} \DecValTok{5}\NormalTok{, }\AttributeTok{byrow =}\NormalTok{ T );}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning in matrix(letters[1:20], nrow = 3, ncol = 5, byrow = T): data length
## [20] is not a sub-multiple or multiple of the number of rows [3]
\end{verbatim}

\begin{verbatim}
##      [,1] [,2] [,3] [,4] [,5]
## [1,] "a"  "b"  "c"  "d"  "e" 
## [2,] "f"  "g"  "h"  "i"  "j" 
## [3,] "k"  "l"  "m"  "n"  "o"
\end{verbatim}
\end{frame}

\begin{frame}[fragile]{用\texttt{?\ matrix} 命令获得帮助}
\protect\hypertarget{ux7528-matrix-ux547dux4ee4ux83b7ux5f97ux5e2eux52a9}{}
在 Console 窗口中输入 \texttt{?\ matrix}
命令，可在\textbf{窗口4}获得有关\texttt{matrix()}函数的帮助信息：

\begin{figure}
\centering
\includegraphics[width=\textwidth,height=0.4\textheight]{images/talk02/get_help_for_matrix_function.png}
\caption{matrix() 函数使用方法}
\end{figure}
\end{frame}

\begin{frame}[fragile]{\texttt{class()}和\texttt{str()}的区别}
\protect\hypertarget{classux548cstrux7684ux533aux522b}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{class}\NormalTok{(}\FunctionTok{matrix}\NormalTok{( }\FunctionTok{c}\NormalTok{(}\DecValTok{20}\NormalTok{, }\FloatTok{30.1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\FloatTok{45.8}\NormalTok{, }\DecValTok{23}\NormalTok{, }\DecValTok{14}\NormalTok{), }
              \AttributeTok{nrow =} \DecValTok{2}\NormalTok{, }\AttributeTok{byrow =}\NormalTok{ T ));}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "matrix" "array"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{str}\NormalTok{(}\FunctionTok{matrix}\NormalTok{( }\FunctionTok{c}\NormalTok{(}\DecValTok{20}\NormalTok{, }\FloatTok{30.1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\FloatTok{45.8}\NormalTok{, }\DecValTok{23}\NormalTok{, }\DecValTok{14}\NormalTok{), }
            \AttributeTok{nrow =} \DecValTok{2}\NormalTok{, }\AttributeTok{byrow =}\NormalTok{ T ));}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  num [1:2, 1:3] 20 45.8 30.1 23 2 14
\end{verbatim}

\FontNormal

\texttt{str()}更多功用以后会详细介绍
\end{frame}

\begin{frame}[fragile]{数组（arrray）}
\protect\hypertarget{ux6570ux7ec4arrray}{}
vector和矩阵都是数组。vector是一维数组，矩阵是二维数组。这就意味着：a)
还可以有更多维的数组，b)高维数组与vector和矩阵一样，只能包含一种基本数据类型。高维数组可以由函数
array() 定义：

\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{array}\NormalTok{( }\AttributeTok{data =}\NormalTok{ LETTERS[}\DecValTok{1}\SpecialCharTok{:}\DecValTok{16}\NormalTok{], }
      \AttributeTok{dim  =} \FunctionTok{c}\NormalTok{(}\DecValTok{2}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{2}\NormalTok{), }
      \AttributeTok{dimnames =} \FunctionTok{list}\NormalTok{( }\FunctionTok{c}\NormalTok{(}\StringTok{"A"}\NormalTok{,}\StringTok{"B"}\NormalTok{), }
                      \FunctionTok{c}\NormalTok{(}\StringTok{"one"}\NormalTok{,}\StringTok{"two"}\NormalTok{,}\StringTok{"three"}\NormalTok{,}\StringTok{"four"}\NormalTok{), }
                      \FunctionTok{c}\NormalTok{(}\StringTok{"一"}\NormalTok{, }\StringTok{"二"}\NormalTok{) ));}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## , , 一
## 
##   one two three four
## A "A" "C" "E"   "G" 
## B "B" "D" "F"   "H" 
## 
## , , 二
## 
##   one two three four
## A "I" "K" "M"   "O" 
## B "J" "L" "N"   "P"
\end{verbatim}
\end{frame}

\hypertarget{section-3-r-basics---ux7b80ux5355ux7b97ux672f}{%
\section{section 3: R basics -
简单算术}\label{section-3-r-basics---ux7b80ux5355ux7b97ux672f}}

\begin{frame}[fragile]{运算符}
\protect\hypertarget{ux8fd0ux7b97ux7b26}{}
\begin{block}{\textbf{加减乘除}老一套}
\protect\hypertarget{ux52a0ux51cfux4e58ux9664ux8001ux4e00ux5957}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\DecValTok{1} \SpecialCharTok{+} \DecValTok{2} \SpecialCharTok{{-}} \DecValTok{3} \SpecialCharTok{*} \DecValTok{4} \SpecialCharTok{/} \DecValTok{5}\NormalTok{; }\DocumentationTok{\#\# 加减乘除}
\DecValTok{1} \SpecialCharTok{+}\NormalTok{ (}\DecValTok{2} \SpecialCharTok{{-}} \DecValTok{3}\NormalTok{) }\SpecialCharTok{*} \DecValTok{4} \SpecialCharTok{/} \DecValTok{5}\NormalTok{;  }\DocumentationTok{\#\#  改变优先级}
\end{Highlighting}
\end{Shaded}

\FontNormal
\end{block}

\begin{block}{进阶操作}
\protect\hypertarget{ux8fdbux9636ux64cdux4f5c}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\DecValTok{2} \SpecialCharTok{\^{}} \DecValTok{6}\NormalTok{; }\DocumentationTok{\#\# 阶乘}
\DecValTok{5} \SpecialCharTok{\%\%} \DecValTok{2}\NormalTok{; }\DocumentationTok{\#\# 取余}
\end{Highlighting}
\end{Shaded}

\FontNormal
\end{block}

\begin{block}{逻辑运算符}
\protect\hypertarget{ux903bux8f91ux8fd0ux7b97ux7b26}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{T }\SpecialCharTok{|}\NormalTok{ F; }\DocumentationTok{\#\# or }
\NormalTok{T }\SpecialCharTok{\&}\NormalTok{ F; }\DocumentationTok{\#\# and}
\DecValTok{5} \SpecialCharTok{|} \DecValTok{0}\NormalTok{; }\DocumentationTok{\#\# == 0 FALSE， \textgreater{} 0 TRUE}
\end{Highlighting}
\end{Shaded}

\FontNormal

? \texttt{5\ \&\ -1} 结果应该是 TRUE 还是 FALSE？？？
\end{block}
\end{frame}

\begin{frame}{数学函数}
\protect\hypertarget{ux6570ux5b66ux51fdux6570}{}
\begin{itemize}
\tightlist
\item
  log, log2, log10
\item
  exp
\item
  sin, cos, tan
\item
  sqrt
\end{itemize}
\end{frame}

\begin{frame}[fragile]{变量与赋值}
\protect\hypertarget{ux53d8ux91cfux4e0eux8d4bux503c}{}
在进行下一步之前，先介绍变量与赋值的基本知识

在R中，可以用任何下面的方式\textbf{赋值}给\textbf{变量}

\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\DocumentationTok{\#\# 常用}
\NormalTok{x }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\DecValTok{10}\NormalTok{,}\DecValTok{100}\NormalTok{,}\DecValTok{1000}\NormalTok{, }\DecValTok{10000}\NormalTok{);}
\DocumentationTok{\#\# {-}{-} 也可以； }
\NormalTok{x }\OtherTok{=} \FunctionTok{c}\NormalTok{(}\DecValTok{10}\NormalTok{,}\DecValTok{100}\NormalTok{,}\DecValTok{1000}\NormalTok{, }\DecValTok{10000}\NormalTok{);}
\DocumentationTok{\#\# {-}{-} 少见}
\FunctionTok{c}\NormalTok{(}\DecValTok{10}\NormalTok{,}\DecValTok{100}\NormalTok{,}\DecValTok{1000}\NormalTok{, }\DecValTok{10000}\NormalTok{) }\OtherTok{{-}\textgreater{}}\NormalTok{ x;}
\DocumentationTok{\#\# {-}{-} ？？？ }
\FunctionTok{assign}\NormalTok{( }\StringTok{"x"}\NormalTok{, }\FunctionTok{c}\NormalTok{(}\DecValTok{10}\NormalTok{, }\DecValTok{100}\NormalTok{, }\DecValTok{1000}\NormalTok{, }\DecValTok{10000}\NormalTok{) );}
\end{Highlighting}
\end{Shaded}

\FontNormal

其中\texttt{x}就叫做变量 \textbf{注}： 赋值后，变量内容默认不再打印到
console \textbf{注2}: c() 又叫做 \textbf{concatenation function}
（以后会再次介绍）
\end{frame}

\begin{frame}[fragile]{变量的管理}
\protect\hypertarget{ux53d8ux91cfux7684ux7ba1ux7406}{}
现在我们运行多个赋值操作：

\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\DecValTok{10}\NormalTok{,}\DecValTok{100}\NormalTok{,}\DecValTok{1000}\NormalTok{, }\DecValTok{10000}\NormalTok{);}
\NormalTok{m }\OtherTok{\textless{}{-}} \FunctionTok{matrix}\NormalTok{( }\FunctionTok{c}\NormalTok{(}\DecValTok{20}\NormalTok{, }\FloatTok{30.1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\FloatTok{45.8}\NormalTok{, }\DecValTok{23}\NormalTok{, }\DecValTok{14}\NormalTok{), }\AttributeTok{nrow =} \DecValTok{2}\NormalTok{, }
       \AttributeTok{dimnames =} \FunctionTok{list}\NormalTok{( }\FunctionTok{c}\NormalTok{(}\StringTok{"row\_A"}\NormalTok{, }\StringTok{"row\_B"}\NormalTok{), }\FunctionTok{c}\NormalTok{(}\StringTok{"A"}\NormalTok{, }\StringTok{"B"}\NormalTok{, }\StringTok{"C"}\NormalTok{) ) );}
\end{Highlighting}
\end{Shaded}

\begin{figure}
\centering
\includegraphics[width=\textwidth,height=0.3\textheight]{images/talk02/enviroment_screenshot.png}
\caption{RStudio enviroment window}
\end{figure}
\end{frame}

\begin{frame}[fragile]{通过 Console window 管理变量}
\protect\hypertarget{ux901aux8fc7-console-window-ux7ba1ux7406ux53d8ux91cf}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ls}\NormalTok{();  }\DocumentationTok{\#\# 显示当前环境下所有变量}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "color_block" "m"           "x"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{rm}\NormalTok{( x ); }\DocumentationTok{\#\# 删除一个变量}
\FunctionTok{ls}\NormalTok{(); }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "color_block" "m"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\DocumentationTok{\#\#rm(list=ls()); \#\# 删除当前环境下所有变量！！！ }
\end{Highlighting}
\end{Shaded}
\end{frame}

\begin{frame}[fragile]{vector 算术, cont.}
\protect\hypertarget{vector-ux7b97ux672f-cont.}{}
\textbf{vectorisation}：R最重要的一个概念

\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\DecValTok{10}\NormalTok{,}\DecValTok{100}\NormalTok{,}\DecValTok{1000}\NormalTok{, }\DecValTok{10000}\NormalTok{);}
\NormalTok{( y }\OtherTok{\textless{}{-}} \FunctionTok{sqrt}\NormalTok{( x  ) }\SpecialCharTok{*} \DecValTok{4} \SpecialCharTok{+} \DecValTok{10}\NormalTok{  ); }\DocumentationTok{\#\# 赋值的之后打印变量内容 }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1]  22.64911  50.00000 136.49111 410.00000
\end{verbatim}

\FontNormal

\textbf{vectorisation}的核心在于数据\textbf{自动循环使用}

\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\SpecialCharTok{/} \FunctionTok{c}\NormalTok{(}\DecValTok{10}\NormalTok{,}\DecValTok{100}\NormalTok{);}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1]   1   1 100 100
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\SpecialCharTok{/} \FunctionTok{c}\NormalTok{(}\DecValTok{10}\NormalTok{,}\DecValTok{100}\NormalTok{,}\DecValTok{1000}\NormalTok{); }\DocumentationTok{\#\# 会报错但仍会循环计算}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning in x/c(10, 100, 1000): longer object length is not a multiple of shorter
## object length
\end{verbatim}

\begin{verbatim}
## [1]    1    1    1 1000
\end{verbatim}
\end{frame}

\begin{frame}[fragile]{matrix 的算术}
\protect\hypertarget{matrix-ux7684ux7b97ux672f}{}
先查看 m 的内容：

\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{knitr}\SpecialCharTok{::}\FunctionTok{kable}\NormalTok{(m);}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lrrr@{}}
\toprule()
& A & B & C \\
\midrule()
\endhead
row\_A & 20.0 & 2.0 & 23 \\
row\_B & 30.1 & 45.8 & 14 \\
\bottomrule()
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{m }\SpecialCharTok{/} \DecValTok{10}\NormalTok{;}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##          A    B   C
## row_A 2.00 0.20 2.3
## row_B 3.01 4.58 1.4
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{m }\SpecialCharTok{/}  \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{100}\NormalTok{);}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##           A     B    C
## row_A 20.00  0.02 2.30
## row_B  3.01 45.80 0.14
\end{verbatim}
\end{frame}

\begin{frame}[fragile]{matrix 的算术, cont.}
\protect\hypertarget{matrix-ux7684ux7b97ux672f-cont.}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{m }\SpecialCharTok{/} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{10}\NormalTok{);}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##           A    B    C
## row_A 20.00 2.00 23.0
## row_B  3.01 4.58  1.4
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{m }\SpecialCharTok{/} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{100}\NormalTok{,}\DecValTok{1000}\NormalTok{); }\DocumentationTok{\#\# 多于列数}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning in m/c(1, 10, 100, 1000): longer object length is not a multiple of
## shorter object length
\end{verbatim}

\begin{verbatim}
##           A      B    C
## row_A 20.00 0.0200 23.0
## row_B  3.01 0.0458  1.4
\end{verbatim}
\end{frame}

\begin{frame}{更多 matrix 相关函数}
\protect\hypertarget{ux66f4ux591a-matrix-ux76f8ux5173ux51fdux6570}{}
\textbf{注}：其中许多也要用于其它数据类型（以后会讲到）

\begin{itemize}
\tightlist
\item
  dim( m );
\item
  nrow( m );
\item
  ncol( m );
\item
  range( m ); \#\# 内容是数字时
\item
  summary( m ); \#\# 也可用于 vector
\end{itemize}
\end{frame}

\begin{frame}[fragile]{vector manipulation}
\protect\hypertarget{vector-manipulation}{}
\begin{block}{合并}
\protect\hypertarget{ux5408ux5e76}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OtherTok{\textless{}{-}} \DecValTok{1}\SpecialCharTok{:}\DecValTok{3}\NormalTok{;}
\NormalTok{b }\OtherTok{\textless{}{-}}\NormalTok{ LETTERS[}\DecValTok{1}\SpecialCharTok{:}\DecValTok{3}\NormalTok{];}

\NormalTok{( ab }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(a,b) );}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "1" "2" "3" "A" "B" "C"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{mode}\NormalTok{( ab ); }\DocumentationTok{\#\# 一个新的函数\textasciitilde{} ... }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "character"
\end{verbatim}
\end{block}
\end{frame}

\begin{frame}[fragile]{vector manipulation, cont.}
\protect\hypertarget{vector-manipulation-cont.}{}
\begin{block}{取部分}
\protect\hypertarget{ux53d6ux90e8ux5206}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ab[}\DecValTok{1}\NormalTok{];}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "1"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ab[ }\FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{4}\NormalTok{, }\DecValTok{5}\NormalTok{) ];}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "1" "A" "B"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ab[ }\DecValTok{2}\SpecialCharTok{:}\DecValTok{5}\NormalTok{ ];}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "2" "3" "A" "B"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ab[ }\FunctionTok{length}\NormalTok{(ab) ]; }\DocumentationTok{\#\# length 函数}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "C"
\end{verbatim}
\end{block}
\end{frame}

\begin{frame}[fragile]{vector manipultaion, cont.}
\protect\hypertarget{vector-manipultaion-cont.}{}
\begin{block}{替换单个值}
\protect\hypertarget{ux66ffux6362ux5355ux4e2aux503c}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{( ab[}\DecValTok{1}\NormalTok{] }\OtherTok{\textless{}{-}} \StringTok{"一"}\NormalTok{ );}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "一"
\end{verbatim}
\end{block}
\end{frame}

\begin{frame}[fragile]{vector manipulation, cont.}
\protect\hypertarget{vector-manipulation-cont.-1}{}
\begin{block}{替换多个值}
\protect\hypertarget{ux66ffux6362ux591aux4e2aux503c}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ab[}\FunctionTok{c}\NormalTok{(}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{)] }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\StringTok{"二"}\NormalTok{, }\StringTok{"三"}\NormalTok{);}
\NormalTok{ab}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "一" "二" "三" "A"  "B"  "C"
\end{verbatim}
\end{block}
\end{frame}

\begin{frame}[fragile]{vector manipulation, cont.}
\protect\hypertarget{vector-manipulation-cont.-2}{}
\begin{block}{naming elements \& then replace a value}
\protect\hypertarget{naming-elements-then-replace-a-value}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{( }\FunctionTok{names}\NormalTok{( ab ) }\OtherTok{\textless{}{-}} \FunctionTok{as.character}\NormalTok{( ab ) ); }\DocumentationTok{\#\# 注意 names() 和 as.character() 函数的用法}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "一" "二" "三" "A"  "B"  "C"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ab[ }\FunctionTok{c}\NormalTok{(}\StringTok{"A"}\NormalTok{, }\StringTok{"B"}\NormalTok{) ] }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\StringTok{"ah"}\NormalTok{, }\StringTok{"bo"}\NormalTok{);}

\NormalTok{ab;}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##   一   二   三    A    B    C 
## "一" "二" "三" "ah" "bo"  "C"
\end{verbatim}
\end{block}
\end{frame}

\begin{frame}[fragile]{vector manipulation, cont.}
\protect\hypertarget{vector-manipulation-cont.-3}{}
\begin{block}{other useful functions}
\protect\hypertarget{other-useful-functions}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\DocumentationTok{\#\# reverse}
\FunctionTok{rev}\NormalTok{(}\DecValTok{1}\SpecialCharTok{:}\DecValTok{10}\NormalTok{);}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] 10  9  8  7  6  5  4  3  2  1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\DocumentationTok{\#\# sort  \& order }
\NormalTok{lts }\OtherTok{\textless{}{-}} \FunctionTok{sample}\NormalTok{( LETTERS[}\DecValTok{1}\SpecialCharTok{:}\DecValTok{20}\NormalTok{] );}
\FunctionTok{sort}\NormalTok{( lts );}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] "A" "B" "C" "D" "E" "F" "G" "H" "I" "J" "K" "L" "M" "N" "O" "P" "Q" "R" "S"
## [20] "T"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{order}\NormalTok{( lts  ); }\DocumentationTok{\#\# 注意与 sort 的不同}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1]  4  7 14 13 17 15 11 16 10  6  9 20  3 18  8 19  5  1  2 12
\end{verbatim}
\end{block}
\end{frame}

\begin{frame}[fragile]{matrix manipulation}
\protect\hypertarget{matrix-manipulation}{}
\begin{block}{取一行、多行}
\protect\hypertarget{ux53d6ux4e00ux884cux591aux884c}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{m;}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##          A    B  C
## row_A 20.0  2.0 23
## row_B 30.1 45.8 14
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{m[ }\DecValTok{1}\NormalTok{ , ];}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  A  B  C 
## 20  2 23
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{m[ }\DecValTok{1}\SpecialCharTok{:}\DecValTok{2}\NormalTok{,  ];}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##          A    B  C
## row_A 20.0  2.0 23
## row_B 30.1 45.8 14
\end{verbatim}
\end{block}
\end{frame}

\begin{frame}[fragile]{matrix manipulation, cont.}
\protect\hypertarget{matrix-manipulation-cont.}{}
\begin{block}{取一行、多行, cont.}
\protect\hypertarget{ux53d6ux4e00ux884cux591aux884c-cont.}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{m[ }\StringTok{"row\_A"}\NormalTok{, ]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  A  B  C 
## 20  2 23
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{m[ }\FunctionTok{c}\NormalTok{( }\StringTok{"row\_B"}\NormalTok{, }\StringTok{"row\_A"}\NormalTok{ ), ] }\DocumentationTok{\#\# 注意取的顺序}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##          A    B  C
## row_B 30.1 45.8 14
## row_A 20.0  2.0 23
\end{verbatim}
\end{block}
\end{frame}

\begin{frame}[fragile]{matrix manipulation, cont.}
\protect\hypertarget{matrix-manipulation-cont.-1}{}
\begin{block}{取一列、多列}
\protect\hypertarget{ux53d6ux4e00ux5217ux591aux5217}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{m[ , }\DecValTok{1}\NormalTok{ ];}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## row_A row_B 
##  20.0  30.1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{m[, }\FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{)];}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##          A    B
## row_A 20.0  2.0
## row_B 30.1 45.8
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{m[, }\FunctionTok{c}\NormalTok{(}\StringTok{"B"}\NormalTok{,}\StringTok{"A"}\NormalTok{)];}\DocumentationTok{\#\# 注意取的顺序}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##          B    A
## row_A  2.0 20.0
## row_B 45.8 30.1
\end{verbatim}
\end{block}
\end{frame}

\begin{frame}[fragile]{matrix manipulation, cont.}
\protect\hypertarget{matrix-manipulation-cont.-2}{}
\begin{block}{取部分}
\protect\hypertarget{ux53d6ux90e8ux5206-1}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{m;}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##          A    B  C
## row_A 20.0  2.0 23
## row_B 30.1 45.8 14
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{m[}\DecValTok{1}\SpecialCharTok{:}\DecValTok{2}\NormalTok{, }\DecValTok{2}\SpecialCharTok{:}\DecValTok{3}\NormalTok{]; }\DocumentationTok{\#\# 取其中一部分}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##          B  C
## row_A  2.0 23
## row_B 45.8 14
\end{verbatim}
\end{block}
\end{frame}

\begin{frame}[fragile]{matrix manipulation, cont.}
\protect\hypertarget{matrix-manipulation-cont.-3}{}
\begin{block}{替换一行}
\protect\hypertarget{ux66ffux6362ux4e00ux884c}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{m;}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##          A    B  C
## row_A 20.0  2.0 23
## row_B 30.1 45.8 14
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{m[}\DecValTok{1}\NormalTok{, ] }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\DecValTok{10}\NormalTok{);}
\end{Highlighting}
\end{Shaded}
\end{block}
\end{frame}

\begin{frame}[fragile]{matrix manipulation, cont.}
\protect\hypertarget{matrix-manipulation-cont.-4}{}
\begin{block}{替换一列}
\protect\hypertarget{ux66ffux6362ux4e00ux5217}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{m[, }\StringTok{"C"}\NormalTok{] }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\DecValTok{230}\NormalTok{, }\DecValTok{140}\NormalTok{);}
\NormalTok{m;}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##          A    B   C
## row_A 10.0 10.0 230
## row_B 30.1 45.8 140
\end{verbatim}
\end{block}
\end{frame}

\begin{frame}[fragile]{matrix manipulation, cont.}
\protect\hypertarget{matrix-manipulation-cont.-5}{}
\begin{block}{替换多行、多列}
\protect\hypertarget{ux66ffux6362ux591aux884cux591aux5217}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\DocumentationTok{\#\# {-}{-} 替换前两行}
\NormalTok{m[ }\DecValTok{1}\SpecialCharTok{:}\DecValTok{2}\NormalTok{ , ] }\OtherTok{\textless{}{-}} \FunctionTok{matrix}\NormalTok{(  }\DecValTok{1}\SpecialCharTok{:}\DecValTok{6}\NormalTok{, }\AttributeTok{nrow =} \DecValTok{2}\NormalTok{ );}

\DocumentationTok{\#\# {-}{-} 替换其中两列}
\NormalTok{m[  , }\FunctionTok{c}\NormalTok{(}\StringTok{"C"}\NormalTok{, }\StringTok{"B"}\NormalTok{) ] }\OtherTok{\textless{}{-}} \FunctionTok{matrix}\NormalTok{(  }\DecValTok{100}\SpecialCharTok{:}\DecValTok{103}\NormalTok{, }\AttributeTok{nrow =} \DecValTok{2}\NormalTok{ );}
\end{Highlighting}
\end{Shaded}
\end{block}

\begin{block}{替换 subset}
\protect\hypertarget{ux66ffux6362-subset}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{m[ }\DecValTok{1}\NormalTok{  , }\FunctionTok{c}\NormalTok{(}\StringTok{"C"}\NormalTok{, }\StringTok{"B"}\NormalTok{) ] }\OtherTok{\textless{}{-}} \FunctionTok{matrix}\NormalTok{(  }\DecValTok{110}\SpecialCharTok{:}\DecValTok{111}\NormalTok{, }\AttributeTok{nrow =} \DecValTok{1}\NormalTok{ );}
\end{Highlighting}
\end{Shaded}
\end{block}

\begin{block}{转置}
\protect\hypertarget{ux8f6cux7f6e}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{t}\NormalTok{(m);}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##   row_A row_B
## A    10  30.1
## B    10  45.8
## C   230 140.0
\end{verbatim}
\end{block}
\end{frame}

\hypertarget{section-3-ux7279ux522bux503c}{%
\section{section 3: 特别值}\label{section-3-ux7279ux522bux503c}}

\begin{frame}{数据类型汇总}
\protect\hypertarget{ux6570ux636eux7c7bux578bux6c47ux603b}{}
\begin{figure}
\centering
\includegraphics[width=\textwidth,height=0.6\textheight]{images/talk02/data-structures-overview.png}
\caption{R的数据类型及相互关系}
\end{figure}

图片出自：\url{https://r4ds.had.co.nz/vectors.html}
\end{frame}

\begin{frame}[fragile]{用 \texttt{typeof()} 函数确定以上类型}
\protect\hypertarget{ux7528-typeof-ux51fdux6570ux786eux5b9aux4ee5ux4e0aux7c7bux578b}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{typeof}\NormalTok{(letters);}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "character"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{typeof}\NormalTok{(}\DecValTok{1}\SpecialCharTok{:}\DecValTok{10}\NormalTok{);}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "integer"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{typeof}\NormalTok{( }\FunctionTok{list}\NormalTok{(}\StringTok{"a"}\NormalTok{, }\StringTok{"b"}\NormalTok{, }\DecValTok{1}\SpecialCharTok{:}\DecValTok{10}\NormalTok{) );}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "list"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{typeof}\NormalTok{( }\DecValTok{1}\SpecialCharTok{:}\DecValTok{10} \SpecialCharTok{\%\%} \DecValTok{3} \SpecialCharTok{==} \DecValTok{0}\NormalTok{ );}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "logical"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{typeof}\NormalTok{(}\DecValTok{1}\NormalTok{);}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "double"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{typeof}\NormalTok{(1L);}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "integer"
\end{verbatim}
\end{frame}

\begin{frame}[fragile]{NULL}
\protect\hypertarget{null}{}
\textbf{NULL}: expressions and functions whose value is undefined

\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{typeof}\NormalTok{( }\ConstantTok{NULL}\NormalTok{ );}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "NULL"
\end{verbatim}
\end{frame}

\begin{frame}[fragile]{特别值以及它们是如何产生的}
\protect\hypertarget{ux7279ux522bux503cux4ee5ux53caux5b83ux4eecux662fux5982ux4f55ux4ea7ux751fux7684}{}
一次认识所有：

\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{c}\NormalTok{(}\SpecialCharTok{{-}}\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{) }\SpecialCharTok{/} \DecValTok{0}\NormalTok{;}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] -Inf  NaN  Inf
\end{verbatim}

\texttt{NA}

\FontNormal

\textbf{注意} NULL 既是特别值也是特别数据类型
\end{frame}

\begin{frame}[fragile]{判定特别值}
\protect\hypertarget{ux5224ux5b9aux7279ux522bux503c}{}
以下判定为 TRUE:

\FontSmall

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 10\tabcolsep) * \real{0.2794}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 10\tabcolsep) * \real{0.2059}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 10\tabcolsep) * \real{0.1324}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 10\tabcolsep) * \real{0.1324}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 10\tabcolsep) * \real{0.1176}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 10\tabcolsep) * \real{0.1324}}@{}}
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
判定（输入）
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
\textbf{0}
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
\textbf{Inf}
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
\textbf{NA}
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
\textbf{NaN}
\end{minipage} \\
\midrule()
\endhead
\texttt{is.finite()} & 有限值（数字） & \textbf{x} & & & \\
\texttt{is.infinite()} & 无限值（数字） & & \textbf{x} & & \\
\texttt{is.na()} & not available & & & \textbf{x} & \textbf{x} \\
\texttt{is.nan()} & 不是数字 & & & & \textbf{x} \\
\bottomrule()
\end{longtable}
\end{frame}

\begin{frame}[fragile]{其它 is. 函数}
\protect\hypertarget{ux5176ux5b83-is.-ux51fdux6570}{}
\FontSmall

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{is.null}\NormalTok{( }\ConstantTok{NULL}\NormalTok{ );}
\FunctionTok{is.numeric}\NormalTok{( }\ConstantTok{NA}\NormalTok{ );}
\FunctionTok{is.numeric}\NormalTok{( }\ConstantTok{Inf}\NormalTok{ );}

\DocumentationTok{\#\# 用于替代 typeof 的函数}
\FunctionTok{is.list}\NormalTok{();}
\FunctionTok{is.logical}\NormalTok{();}
\FunctionTok{is.character}\NormalTok{();}
\FunctionTok{is.vector}\NormalTok{();}

\DocumentationTok{\#\# 更多 ... }
\end{Highlighting}
\end{Shaded}
\end{frame}

\hypertarget{section-4-ux7b80ux5355ux56deux987e}{%
\section{section 4: 简单回顾}\label{section-4-ux7b80ux5355ux56deux987e}}

\begin{frame}[fragile]{今日内容回顾}
\protect\hypertarget{ux4ecaux65e5ux5185ux5bb9ux56deux987e}{}
\begin{block}{R基本数据类型}
\protect\hypertarget{rux57faux672cux6570ux636eux7c7bux578b}{}
\begin{itemize}
\tightlist
\item
  数字和字符串
\item
  整数、小数、逻辑
\item
  数据类型之间转换；自动规则
\item
  \texttt{matrix}
\end{itemize}
\end{block}

\begin{block}{R数据类型的查看方式}
\protect\hypertarget{rux6570ux636eux7c7bux578bux7684ux67e5ux770bux65b9ux5f0f}{}
\begin{itemize}
\tightlist
\item
  \texttt{mode}
\item
  \texttt{class}
\item
  \texttt{typeof}
\item
  \texttt{is.xxx函数们}
\end{itemize}
\end{block}

\begin{block}{基本数据类型的操作}
\protect\hypertarget{ux57faux672cux6570ux636eux7c7bux578bux7684ux64cdux4f5c}{}
\begin{itemize}
\tightlist
\item
  定义
\item
  取部分
\item
  替换
\item
  其它
\end{itemize}
\end{block}
\end{frame}

\hypertarget{section-5-ux7ec3ux4e60-ux4f5cux4e1a}{%
\section{section 5: 练习 \&
作业}\label{section-5-ux7ec3ux4e60-ux4f5cux4e1a}}

\begin{frame}[fragile]{练习 \& 作业}
\protect\hypertarget{ux7ec3ux4e60-ux4f5cux4e1a}{}
\begin{itemize}
\item
  \texttt{Exercises\ and\ homework} 目录下 \texttt{talk02-homework.Rmd}
  文件
\item
  完成时间：见钉群的要求
\end{itemize}
\end{frame}

\end{document}